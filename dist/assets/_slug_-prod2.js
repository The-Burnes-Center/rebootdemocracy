import{s as $,d as z,r as o,l as O,F as U,u as W,o as Y,w as F,G as w,c as l,e as r,f as P,H as J,g as e,t as d,j as i,m,n as y,h as b,x as k,y as h,k as S,z as K,p as Q,A as X,q as Z}from"./app-prod.js";function ee(D){return+$(D)<Date.now()}const te={class:"events-hero"},ne={class:"events-row"},se={key:0,class:"event-information"},oe={class:"event-short-description"},le={class:"event-long-description"},re=["innerHTML"],ie={class:"event-selection-row"},ae={class:"event-grid-row"},ce={class:"event-grid-item"},de={class:"event-grid-padding"},ue={class:"event-title"},ve={class:"event-item-row"},_e={class:"event-image"},pe=["src"],he=["src"],me={class:"event-text"},fe={class:"event-speakers"},ge={key:0},we=["innerHTML"],ye=["innerHTML"],be={key:0,class:"event-type"},ke={key:1,class:"event-type"},De={class:"event-date"},Te=["href"],Me={key:0,class:"event-item-partnership-row"},Le={class:"partner-logo-section"},Ee=["src"],He={class:"past-event-grid-row"},Re={class:"past-event-col-1"},Be={class:"event-thumbnail"},xe=["src"],Ce={class:"past-event-col-2"},Fe={class:"eyebrow"},Pe={class:"event-partnership-container"},Se={key:0,class:"partnership-label"},qe=["src"],Ie=["innerHTML"],Ve=["href"],Ae=z({__name:"events",setup(D){var C;const T=o(null),M=o(null),a=O("https://content.thegovlab.com").with(U()),f=typeof window<"u"?W():o(null);o(0);const L=o(!0),g=o(""),q=o([]),u=o([]);o([]),o(void 0);const E=o(""),H=o(""),v=o(""),_=o([]);o(f.query);const R=o([]);o(typeof window<"u"?(C=f.value)==null?void 0:C.fullPath:""),Y(()=>{N(),G(),j()}),F(()=>[L.value,v.value],()=>{A()},{immediate:!0}),F(()=>{var s;return typeof window<"u"?(s=f.value)==null?void 0:s.fullPath:""},()=>{},{deep:!0,immediate:!0});function B(s){return Q(s,"MMMM d, yyyy, h:mm aa")}function I(s){return ee(s)}function V(s){return X(new Date(s))}function A(){if(L.value)g.value=v.value;else if(v.value){const n=v.value.split(`
`).slice(0,2);g.value=n.join(`
`)}}function x(s){let n=null;if(s==="upcoming"?n=T.value:s==="pastEvents"&&(n=M.value),n){const t=n.getBoundingClientRect().top+window.scrollY-80;window.scrollTo({top:t,behavior:"smooth"})}}function N(){a.request(w("reboot_democracy",{meta:"total_count",limit:-1,fields:["*.*"]})).then(s=>{q.value=s.data}).catch(s=>console.error(s))}function j(){a.request(w("general_events_series",{meta:"total_count",limit:-1,fields:["*.*"]})).then(s=>{var n;_.value=s.data,(n=_.value)!=null&&n[1]&&(E.value=_.value[1].title,H.value=_.value[1].description,v.value=_.value[1].full_description)}).catch(s=>console.error(s))}function G(){a.request(w("reboot_democracy_resources",{filter:{type:{_eq:"Event"}},meta:"total_count",limit:-1,sort:["-date"],fields:["*.*","thumbnail.*","partner_logo.*","event_series.general_events_series_id.*"]})).then(s=>{u.value=s.map(t=>({event_element:t,series_name:"Reboot Democracy Lecture Series"})),u.value.sort((t,c)=>new Date(t.event_element.date).getTime()-new Date(c.event_element.date).getTime());const n=u.value.filter(t=>{var c,p;return((c=t.event_element.event_series)==null?void 0:c.length)>0&&((p=t.event_element.event_series[0].general_events_series_id)==null?void 0:p.title)==="Reboot Democracy Lecture Series"});R.value=n,R.value.sort((t,c)=>new Date(t.event_element.date).getTime()-new Date(c.event_element.date).getTime())}).catch(s=>console.error(s))}return(s,n)=>(l(),r(m,null,[P(J),e("div",te,[n[3]||(n[3]=e("div",{class:"events-title-row"},[e("div",{class:"events-title-col"},[e("h1",null,"Rebooting Democracy in the Age of AI"),e("h2",{class:"red-subtitle"},[e("span",null,"Lecture Series")])])],-1)),e("div",ne,[E.value!==""?(l(),r("div",se,[e("div",oe,[e("h1",null,d(H.value),1),n[2]||(n[2]=e("div",{class:"btn-row"},[e("a",{href:"/signup",target:"_blank",class:"mt-10 btn btn-primary btn-dark btn-medium"},"Sign up to receive updates!")],-1))]),e("div",le,[e("div",{innerHTML:g.value},null,8,re)])])):i("",!0)])]),e("div",ie,[e("h2",{class:"event-selector active",onClick:n[0]||(n[0]=t=>x("upcoming"))}," Upcoming Events "),e("h2",{class:"event-selector",onClick:n[1]||(n[1]=t=>x("pastEvents"))}," Past Events ")]),e("div",{ref_key:"upcomingBlockRef",ref:T,class:"event-grid-section"},[e("div",ae,[(l(!0),r(m,null,y(u.value,t=>b((l(),r("div",{class:"event-grid-col",key:t.event_element.id},[e("div",ce,[e("div",de,[e("div",ue,[e("h3",null,d(t.event_element.title),1)]),e("div",ve,[e("div",_e,[!t.event_element.instructor&&t.event_element.thumbnail?(l(),r("img",{key:0,src:h(a).url.href+"assets/"+t.event_element.thumbnail.id},null,8,pe)):i("",!0),(l(!0),r(m,null,y(t.event_element.instructor,(c,p)=>b((l(),r("div",{key:p},[e("img",{src:h(a).url.href+"assets/"+c.innovate_us_instructors_id.headshot.id},null,8,he)])),[[k,p<1]])),128))]),e("div",me,[e("div",fe,[t.event_element.speakers?(l(),r("p",ge," Speaker(s):Â  ")):i("",!0),e("div",{innerHTML:t.event_element.speakers},null,8,we)]),e("p",{class:"event-description",innerHTML:t.event_element.description},null,8,ye),t.event_element.online_event&&!t.event_element.inperson_event?(l(),r("p",be,n[4]||(n[4]=[e("i",{class:"fa-solid fa-video"},null,-1),S(" Online ")]))):i("",!0),t.event_element.inperson_event?(l(),r("p",ke,n[5]||(n[5]=[e("i",{class:"fa-solid fa-building-user"},null,-1),S(" Hybrid ")]))):i("",!0),e("p",De,d(B(new Date(t.event_element.date)))+" ET ",1),e("a",{href:t.event_element.link,target:"_blank",class:"btn register-btn btn-dark btn-medium register-btn"},"Register",8,Te)])])]),t.event_element.partner_logo?(l(),r("div",Me,[e("div",Le,[n[6]||(n[6]=e("p",{class:"partnership-label"},"In Partnership with:",-1)),e("img",{class:"partner-logo-img",src:h(a).url.href+"assets/"+t.event_element.partner_logo.id},null,8,Ee)])])):i("",!0)])])),[[k,V(new Date(t.event_element.date))]])),128))])],512),e("div",{ref_key:"pastEventsBlockRef",ref:M,class:"event-grid-section"},[n[7]||(n[7]=e("h3",null,"Past Events",-1)),e("div",He,[(l(!0),r(m,null,y(u.value.slice().reverse(),t=>b((l(),r("div",{class:"past-event-grid-item",key:t.event_element.id+"_past"},[e("div",Re,[e("div",Be,[t.event_element.thumbnail?(l(),r("img",{key:0,src:h(a).url.href+"assets/"+t.event_element.thumbnail.id},null,8,xe)):i("",!0)])]),e("div",Ce,[e("h5",Fe,d(t.series_name),1),e("h2",null,d(t.event_element.title),1),e("p",null,d(B(new Date(t.event_element.date)))+" ET",1),e("div",Pe,[t.event_element.partner_logo?(l(),r("p",Se," In Partnership with: ")):i("",!0),t.event_element.partner_logo?(l(),r("img",{key:1,class:"partner-logo-img",src:h(a).url.href+"assets/"+t.event_element.partner_logo.id},null,8,qe)):i("",!0)]),e("p",{class:"event-description",innerHTML:t.event_element.description},null,8,Ie),e("a",{href:t.event_element.link,target:"_blank",class:"btn btn-secondary btn-dark btn-medium"},"Watch",8,Ve)])])),[[k,I(new Date(t.event_element.date))]])),128))])],512),P(K)],64))}}),je=Z(Ae,[["__scopeId","data-v-796f48ff"]]);export{je as default};
