import{i as v,r as l,w as y,a as m,o as h,b as _,c as b,d as w,g as A,e as B,u as k,l as I,F as D,f as H,h as x,j as d,k as f,m as p,t as R,G as M}from"./app-sZ1ocDrj.js";function E(s,o={}){const t=o.head||v();if(t)return t.ssr?t.push(s,o):F(t,s,o)}function F(s,o,t={}){const r=l(!1),n=l({});y(()=>{n.value=r.value?{}:w(o)});const c=s.push(n.value,t);return m(n,i=>{c.patch(i)}),A()&&(h(()=>{c.dispose()}),_(()=>{r.value=!0}),b(()=>{r.value=!1})),c}const L={key:0},P=["innerHTML"],S={key:1},U=B({__name:"[slug]",props:{slug:{}},setup(s){const o=k(),t=l(o.params.slug||""),r=I("https://content.thegovlab.com").with(D()),n=l(null);async function c(e){console.log("Fetching post for slug:",e);try{if(!e)return console.error("Slug is undefined or empty"),null;const a=await r.request(M("reboot_democracy_blog",{filter:{slug:e},fields:["*.*.*"],limit:1})),u=a.data?a.data:a;return Array.isArray(u)&&u.length>0?u[0]:(console.error("No post found for slug:",e),null)}catch(a){return console.error("Error fetching post:",a),null}}function g(e){E({title:"RebootDemocracy.AI Blog | "+e.title,meta:[{name:"title",content:"RebootDemocracy.AI Blog | "+e.title},{name:"description",content:e.excerpt},{property:"og:title",content:"RebootDemocracy.AI Blog | "+e.title},{property:"og:description",content:e.excerpt},{property:"og:image",content:e.image?r._url+"assets/"+e.image.filename_disk:r._url+"assets/4650f4e2-6cc2-407b-ab01-b74be4838235"},{property:"og:image:width",content:"800"},{property:"og:image:height",content:"800"},{property:"twitter:title",content:"RebootDemocracy.AI Blog | "+e.title},{property:"twitter:description",content:e.excerpt},{property:"twitter:image",content:e.image?r._url+"assets/"+e.image.filename_disk:r._url+"assets/4650f4e2-6cc2-407b-ab01-b74be4838235"},{property:"twitter:card",content:"summary_large_image"}]})}async function i(e){n.value=await c(e),n.value&&g(n.value)}return H(()=>i(t.value)),x(()=>{n.value||i(t.value)}),m(()=>o.params.slug,e=>{e!==t.value&&(t.value=e,i(t.value))}),(e,a)=>(d(),f("div",null,[n.value?(d(),f("div",L,[p("h1",null,R(n.value.title),1),p("div",{innerHTML:n.value.content},null,8,P)])):(d(),f("div",S,a[0]||(a[0]=[p("p",null,"Loading...",-1)])))]))}});export{U as default};
